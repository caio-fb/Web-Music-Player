<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Web Player</title>
    <link rel="stylesheet" type="text/css" href="index.css" media="screen" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
</head>
<body>
    <header class="bg-orange p-3">
        
        <h1 class="text-center text-white">
            <img src="icons/WebPlayer.svg"/>
            WebPlayer
        </h1>
    </header>
    <div class="container pt-5">
        <form id="formulario">
            <div class="pt-3">
                <h3>Nome da música</h3>
                <input type="text" placeholder="Rei do gado" id="nome" />
            </div>
            <div class="pt-3">
                 <h3>Nome do artista</h3>
                 <input type="text" placeholder="Tião Carreiro" id="artista" />
            </div>
            <div class="pt-3">
                <h3>Gênero</h3>
                <select id="genero" >
                    <option>Escolha um gênero</option>
                    <option value="sertanejo">Sertanejo</option>
                    <option value="rock">Rock</option>
                    <option value="pop">Pop</option>
                    <option value="forro">Forró</option>
                    <option value="funk">Funk</option>
                    <option value="mpb">MPB</option>
                </select>
            </div>
            <div class="pt-3">
                <h3>Link do vídeo</h3>
                <input type="text" placeholder="watch?v=bv3593lmltY" id="link" />
            </div>
            <div class="pt-3 ps-4">
                <button type="submit" class="bg-orange rounded-5 text-white border-0">
                    <b>Cadastrar música</b>
                </button>
            </div>
        </form>                
    </div>
</body>
</html>
<script>
    $(document).ready(function() {
      var form = $('#formulario');

      form.submit(function(event) {
        event.preventDefault();

        // Obtém os valores dos campos de entrada
        var inputNome = $('#nome').val();
        var inputArtista = $('#artista').val();
        var inputGenero = $('#genero').val();
        var inputLink = $('#link').val();

        // Cria um objeto com os valores dos campos
        var inputData = {
          nome: inputNome,
          artista: inputArtista,
          genero: inputGenero,
          link: inputLink
        };

        // Envia uma requisição AJAX ao arquivo PHP com os valores dos campos
        $.ajax({
          type: 'POST',
          url: 'RegisterMusic.php',
          data: inputData, // Envia o objeto como dados da requisição
          success: function(response) {
            console.log(response);
          },
          error: function(xhr, status, error) {
            console.log(error);
          }
        });
      });
    });

</script>